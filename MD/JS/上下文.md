## JS 顺序执行吗

```js
function one() {
    console.log('one')
}
one() // two
function two() {
    console.log('two')
}
two() // two
```

以上代码完全无疑问

可是..

```js
function one() {
    console.log('one')
}
one() // two
function one() {
    console.log('two')
}
one() // two
```

这就出乎意料了

扯到执行上下文栈了

我们可以模拟JS执行上下文栈, 使用数组

ESStack = []

因为肯定会存在全局作用域,  所以, 初始化应该是这个样子

ESStack = [GO]

然后每一次遇见一个函数, 压入栈, 函数执行完出栈



一个例子讲清楚:

```js
function three() {
    console.log('three')
}
function two() {
    three()
}
function one() {
    two()
}
one()

// 这期间栈变化是
[GO]
[one, GO] // one执行
[two, one, GO] // one里面有two执行
[three, two, one, GO] // two里面有three执行
[two, one, GO] // three执行完毕
[one, GO] // two执行完毕
[GO] // one执行完毕
```



上下文栈也可以用于理解作用域链, 在内部作用域无法访问到的属性可以在外部查找

### 上下文的三个重要属性

1. 变量对象
2. 作用域链
3. this