输入URL并且敲回车的时候, 浏览器会请求 DNS 服务器, 通过 DNS 获取域名对应的 IP, 然后通过 IP 找到对应的服务器后, 要求建立 TCP 链接(三次握手), 等浏览器发完 request 后, 服务器处理请求包, 调用自身服务, 返回HTTP Response 包, 客户端收到服务端响应后开始渲染这个 Response 的主体 (body), 等收到全部内容后断开与该服务器的连接

## 总流程

1. 浏览器通过 DNS 服务找到服务器的 IP
2. 浏览器通过 TCP/IP 协议连接到服务器
3. 客户端向服务器发送 HTTP 协议请求包, 请求服务器的资源和文档
4. 服务端向客户端发送 HTTP 应答包, 如果资源包里有动态语言, 服务器会调用动态语言解释引擎解析,并将解析结果返回给客户端
5. 客户端与服务器断开, 由客户端渲染内容数据

## 1. 找到服务器 IP

1. 浏览器自身检查, 浏览器有自己的DNS缓存, 诞生这个缓存时间比较短, 一分钟左右, 找到直接结束
2. 计算机系统DNS缓存和hosts文件检查, 找到并且没有过期, 结束, 系统没有, 则去hosts文件找, 找到即结束, 不管host对不对

**以上为本地查找, 如果没找到, 计算机会进行以下操作**

1. 本地DNS域名解析, 浏览器会向本地DNS服务器发送请求(UDP的53端口), 这个请求要求服务器一定要返回结果, 这个DNS服务器就是计算机系统里配置的DNS选项
2. 如果本地域名解析服务器也不能解析, 则该服务器会代浏览器迭代发送请求, 直到找到这个IP为止
3. 然后本地DNS服务器会缓存这个对应关系,  缓存时间由 TTL 控制, 域名解析过程结束

## 2. 连接到服务器

拿到服务器IP后, 客户端会进行连接, 也就是三次握手

1. 客户端发送SVN, 并且进入SVN_sent状态, 等待服务器的回复
2. 服务器返回ACK+SVN, 并且进入 SVN_rcvd 状态等待客户端的确认
3. 客户端收到以后, 再次发送确认, 但这次会携带发送的数据

**为什么一定要三次握手**

1. 通讯是靠协议完成的, 协议不一样通讯个锤子, 三次握手可以确认双方使用的是一个协议
2. 为了实现可靠数据传输， TCP 协议的通信双方， 都必须维护一个序列号， 以标识发送出去的数据包中， 哪些是已经被对方收到的。 
3. 三次握手的过程即是通信双方相互告知序列号起始值， 并确认对方已经收到了序列号起始值的必经步骤如果只是两次握手， 至多只有连接发起方的起始序列号能被确认， 另一方选择的序列号则得不到确认

## 3. 请求服务器资源

使用http协议请求资源



## 4. 服务器发送资源给客户端

使用http协议响应资源



## 5. 客户端开始渲染数据

