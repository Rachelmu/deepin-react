前端性能首先分为首屏和其他

## 首屏

- 压缩文件 JS CSS Img 文件压缩
- 使用 CDN
- CSS 是会阻塞页面构建的
- **建议减少关键 CSS 元素数量** 

前端构建 DOM 树的影响因素有 CSS 和 JS

CSS 要避免深度嵌套

JS 可以适当的使用 async 或者 defer 来异步下载, defer 延迟执行, async 异步下载但下载完成后立即执行, 不能保证顺序



## 其他

合理的使用缓存, 比如 百度 在前端缓存了很多文件, 就是为了增加渲染速度

懒加载

> 图片懒加载, 使用 offsetTop, scrollTop, clientHeight 来判断图片是否进入视野, 即将进入视野的时候会发送请求

预加载

> 使用 img 首先下载好图片, 但不显示
>
> 使用 Image 对象加载

防抖

> 具体看防抖, 节流

节流

文件压缩

> gzip压缩

代码质量优化,不要过深嵌套或者访问属性

> JS 层面, CSS 也是一样

网页层数

> 对于频繁更新的 DOM 可以使用 translate 来新建一个图层, 这样图层更新不会影响其他的 DOM

离线操作dom

重绘与重排

> 当元素大小, 布局变化, 就需要重排, 当元素颜色, 透明度变化就需要重绘
>
> 重排一定会重绘, 重绘不一定重拍

css优化

> 避免过度详细的去访问一个元素

使用cdn

> CDN 大部分时间可以保证资源迅速的下载下来, 浪费在下载的时间少



## React 项目性能优化

1. shouldComponentUpdate()
2. 使用 PureComponent
3. 对于不需要自身 state 以及生命周期函数的组件 使用 function

